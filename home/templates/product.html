{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeStay • HomesTayBac</title>
    <link rel="stylesheet" href="{% static 'myapp/css/product.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css"
        integrity="sha512-UTNP5BXLIptsaj5WdKFrkFov94lDx+eBvbKyoe1YAfjeRPC+gT5kyZ10kOHCfNZqEui1sxmqvodNUx3KbuYI/A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
        integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <div class="logo">
            <a href="/"><img src="{% static 'myapp/img/logo.jpeg' %}"></a> <!--back về home-->
        </div>

        <div class="navlinks">
            <ul id="menulist">
                <li><a href="/" class="link-underline link-underline-opacity-0">Trang chủ</a></li> <!--url đến home-->
                <li><a href="#Dịch Vụ" class="link-underline link-underline-opacity-0">Dịch vụ</a></li> <!--url xuống dịch vụ-->
                <li><a href="#homestay" class="link-underline link-underline-opacity-0">Homestay</a></li> <!--url xuống danh sách homestay-->
                <li><a href="#Liên Hệ" class="link-underline link-underline-opacity-0">Liên hệ</a></li> <!--url xuống liên hệ-->
                <li><a href="#Feedback" class="link-underline link-underline-opacity-0">Phản hồi</a></li> <!--url đến trang phản hồi-->
                <li id="user-action"></li>
            </ul>
            <span id="listbars" class="fa fa-bars" onclick="menutoggle()"></span>
        </div>
    </header>
    <script>
        let isLoggedIn = true; // thêm phương thức kiểm tra trạng thái đăng nhập
        const userName = "Nguyễn Văn A";

        function updateUserAction() {
            const userActionDiv = document.getElementById("user-action");
            console.log(userActionDiv);
            if (isLoggedIn) {
                userActionDiv.innerHTML =
                `
                <div show-info onclick="showInfo()" class="navlinks">
                    <span class="user" onclick="usertoggle()">Chào, ${userName}</span>
                    <ul show-ul class="d-none" id="userlist">
                        <li><a href="#">Thông tin tài khoản</a></li>    <!--url trang profile-->
                        <li><a href="#">Lịch sử đặt phòng</a></li>      <!--url trang history-->
                        <li><a href="#" onclick="logout()">Đăng xuất</a></li> <!-- thoát trạng thái đăng nhập-->
                    </ul>
                </div>
                `;                                                      //url trang profile
                                                                        // url trang history
                                                                        // thoát trạng thái đăng nhập
            } else {
                userActionDiv.innerHTML = `<a href="#"><button class="primary-btn">Đăng nhập</button></a>`; // url đến trang đăng nhập
            }
        }

        function logout() {
            isLoggedIn = false;
            updateUserAction(); 
        }
        updateUserAction();
    </script>
    <script>
        var Menulist = document.getElementsByClassName("navlinks");
        // menulist.style.maxHeight = "0px";
        function menutoggle() {
            if (menulist.style.maxHeight == "0px") {
                menulist.style.maxHeight = "60vh";
            } else {
                menulist.style.maxHeight = "0px";
            }
        }
        
        let shown = false;
        const showInfor = document.querySelector('[show-info]');
        console.log(showInfor);
        const showUl = showInfor.querySelector(`[show-ul]`);
        console.log(showUl);
        function showInfo() {
           
            if(shown){
                showUl.classList.remove('d-block');
                showUl.classList.add("d-none");
                // const userName = showInfor.querySelector(`.user`);
                shown = false;
            }
            else{
                showUl.classList.remove('d-none');
                showUl.classList.add("d-block");
                const userName = showInfor.querySelector(`.user`);
                // console.log(userName);
                // userName.classList.add("d-none");
                shown = true;
            }
            
        }
    </script>

<main class="container my-5">
    <div class="row">
        <div class="col-lg-7">
            <!--Hình ảnh sản phẩm-->
            <div class="image-gallery mb-4">
                <img src="{% static 'myapp/img/homestay4.jpg' %}" class="img-fluid" alt="Phòng lớn homestay" style="width: 100%; max-height: 500px; object-fit: cover;" onclick="openModal(this.src)">
            </div>
            <div class="image-thumbnails d-flex gap-2">
                <img src="{% static 'myapp/img/homestay1.jpg' %}" class="img-thumbnail" alt="Hình ảnh homestay 1" style="width: 100px; height: 100px;" onclick="openModal(this.src)">
                <img src="{% static 'myapp/img/homestay2.jpg' %}" class="img-thumbnail" alt="Hình ảnh homestay 2" style="width: 100px; height: 100px;" onclick="openModal(this.src)">
                <img src="{% static 'myapp/img/homestay3.jpg' %}" class="img-thumbnail" alt="Hình ảnh homestay 3" style="width: 100px; height: 100px;" onclick="openModal(this.src)">
            </div>

            <!-- model phóng to hình ảnh khi click vào -->
            <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body">
                            <img id="modalImage" src="" class="img-fluid" alt="Phóng to hình ảnh">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                // Hàm mở modal và hiển thị hình ảnh
                function openModal(imageSrc) {
                    var modalImage = document.getElementById('modalImage');
                    modalImage.src = imageSrc; // Đặt src của hình ảnh trong modal bằng src của hình ảnh bấm vào
                    var modal = new bootstrap.Modal(document.getElementById('imageModal'));
                    modal.show();
                }
            </script>
        </div>
        {% comment %} {% if homestays %} {% endcomment %}
            <div class="col-lg-5">
                <h2 class="card-title">Tên: {{ homestay.name }}</h2>
                <p class="text-muted">Địa chỉ: {{ homestay.address }}</p>
                <p class="text-muted">Homestay Tây Bắc mang đậm bản sắc văn hóa dân tộc vùng cao...</p>
                <h4 class="mt-4">Tiện nghi</h4>
                <ul class="list-unstyled">
                    <li>Phòng nghỉ dân dã, ấm cúng</li>
                    <li>Khu vực đốt lửa trại</li>
                    <li>Tour tham quan bản làng và ruộng bậc thang</li>
                    <li>Bữa ăn địa phương truyền thống</li>
                </ul>
                <h4 class="mt-4">Giá</h4>
                <p>{{ homestay.price }}.000 VND / đêm</p>
                <a href="book" class="btn btn-primary">Đặt ngay</a>
            </div>
        {% comment %} {% endif %}             {% endcomment %}
    </div>

    <hr>
    <section class="services">
        <h2 class="mb-4">Dịch vụ</h2>
        <div class="heading">
            <p>Homestay không chỉ là nơi lưu trú mà còn là một trải nghiệm tuyệt vời giúp du khách hòa mình vào cuộc
                sống và văn hóa bản địa. Với phương châm mang đến sự ấm áp như ở nhà, chúng tôi cung cấp các dịch vụ
                đa dạng nhằm đáp ứng mọi nhu cầu của bạn trong suốt kỳ nghỉ.</p>
        </div>

        <div class="content flex_space">
            <div class="row row g-4">
                <div class="col-md-3 text-center">
                    <div class="box">
                        <i class="fa-solid fa-champagne-glasses fa-2x mb-2"><a href = "#"></a></i> <!--url dịch vụ cầu hôn-->
                        <h5>Cầu hôn</h5>
                    </div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="box">
                        <i class="fa-solid fa-person-biking fa-2x mb-2"><a href = "#"></a></i> <!--url dịch vụ thể thao-->
                        <h5>Thể thao</h5>
                    </div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="box">
                        <i class="fa-solid fa-utensils fa-2x mb-2"><a href = "#"></a></i> <!--url dịch vụ nhà hàng-->
                        <h5>Nhà hàng</h5>
                    </div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="box">
                        <i class="fa-solid fa-spa fa-2x mb-2"><a href = "#"></a></i> <!--url dịch vụ spa-->
                        <h5>Spa</h5>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

    <footer>
        <div class="container-footer">
            <div class="box">
                <img src="{% static 'myapp/img/background2.jpg' %}" alt="">
                <div class="icon">
                    <i class="fa fa-facebook-f"></i>
                    <i class="fa fa-instagram"></i>
                    <i class="fa fa-twitter"></i>
                    <i class="fa fa-youtube"></i>
                </div>
            </div>
            <div class="box">
                <h2>GIỚI THIỆU</h2>
                <a href="#">Trang chủ</a><br>
                <a href="#">Dịch vụ</a><br>
                <a href="#">Tin tức</a><br>
                <a href="#">Liên hệ</a><br>
            </div>
            <div class="box">
                <h2>LIÊN KẾT</h2>
                <a href="#">Điều khoản sử dụng</a><br>
                <a href="#">Chính sách bảo mật</a><br>
                <a href="#">Chính sách hoàn tiền</a><br>
                <a href="#">FAQs</a>
            </div>
            <div class="box">
                <h2>LIÊN HỆ</h2>
                <i class="fa fa-location-dot"></i>
                <label>30 Tran Phu, Ha Dong, Ha Noi, Viet Nam</label><br>
                <i class="fa fa-phone"></i>
                <label>0987352163</label><br>
                <i class="fa fa-envelope"></i>
                <label>nhan54v@gmail.com</label><br>
            </div>
        </div>
    </footer>
</body>
</html>
